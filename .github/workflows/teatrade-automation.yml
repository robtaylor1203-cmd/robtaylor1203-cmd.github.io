- name: Run TeaTrade Data Collection
        run: |
          echo "Starting TeaTrade automation with existing scrapers..."
          
          # Install dependencies
          cd automation
          pip install -r requirements.txt || echo "Installing basic dependencies..."
          pip install requests beautifulsoup4 pandas selenium playwright || true
          
          # Install browser dependencies if available
          if command -v playwright &> /dev/null; then
            playwright install chromium --with-deps || true
          fi
          
          # Set environment variables
          export GITHUB_ACTIONS=true
          export RUN_MODE="${{ github.event.inputs.run_mode || 'full' }}"
          export FORCE_UPDATE="${{ github.event.inputs.force_update || 'false' }}"
          export PYTHONPATH="${PWD}"
          
          # Run your complete automation system
          python run_complete_automation.py
          
          echo "Your automation system completed"
